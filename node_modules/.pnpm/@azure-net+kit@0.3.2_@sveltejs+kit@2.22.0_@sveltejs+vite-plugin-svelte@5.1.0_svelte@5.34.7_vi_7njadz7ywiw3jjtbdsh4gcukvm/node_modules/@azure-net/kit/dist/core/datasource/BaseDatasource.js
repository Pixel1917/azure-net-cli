import { HttpService, HttpServiceError, HttpServiceResponse } from '../httpService/HttpService.js';
import { QueryBuilder } from '../query/index.js';
export class BaseHttpDatasource {
    httpClient;
    query;
    constructor(params) {
        this.httpClient = params.http ?? new HttpService({ baseUrl: '' });
        this.query = params.query ?? new QueryBuilder();
    }
    async createRequest(callback) {
        return await callback({ http: this.httpClient, query: this.query })
            .then((response) => response)
            .catch((err) => {
            throw err;
        });
    }
}
export const createHttpDatasource = (params) => {
    return new BaseHttpDatasource(params);
};
